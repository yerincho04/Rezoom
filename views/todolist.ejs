<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>전체 To-do 리스트</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-300 min-h-screen font-sans">

<!-- Header -->
<%- include('partials/header', { email }) %>

<!-- Main Content -->
<main class="max-w-5xl mx-auto p-8 space-y-8">
  <h1 class="text-2xl font-bold mb-6">📋 전체 To-do 리스트 모음</h1>

  <% if (todoList.length === 0) { %>
    <p class="text-gray-600">아직 저장된 To-do 리스트가 없습니다.</p>
  <% } else { %>
    <% todoList.forEach(item => { %>
      <div class="bg-white p-6 rounded-lg shadow space-y-3 border border-gray-200">
        <h2 class="text-lg font-semibold text-gray-800">
          <%= item.company %> - <%= item.position %>
        </h2>
        <p class="text-sm text-gray-500">
          업로드일: <%= new Date(item.created_at).toLocaleDateString('ko-KR') %>
        </p>

        <!-- ✅ To-do Only -->
        <div class="whitespace-pre-wrap text-sm text-gray-800 bg-yellow-50 p-4 rounded border border-yellow-200">
          <%= item.todo || "To-do 리스트가 없습니다." %>
        </div>
      </div>
    <% }); %>
  <% } %>
</main>

</body>
</html>